import{j as e}from"./index-Duv89VAf.js";import{u as s,r as t}from"./react-vendor-B4gIioy9.js";import{S as a}from"./SafeComponent-DdckI7LM.js";import{x as i,g as l,aj as r,X as n,h as c}from"./icons-DVxOjm_j.js";const d=()=>{const e=localStorage.getItem("safespace_premium");if(!e)return{isPremium:!1,trialActive:!1};const s=JSON.parse(e),t=new Date,a=new Date(s.trialEndsAt);return{isPremium:s.isPremium,trialActive:s.trialActive&&t<a,planType:s.planType,trialEndsAt:s.trialEndsAt,nextBillingDate:s.nextBillingDate}};function m(){const m=s(),o=d(),[x,p]=t.useState(!1);if(!o.isPremium&&!o.trialActive)return e.jsx(a,{children:e.jsxs("div",{className:"max-w-2xl mx-auto p-4 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”’"}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"No Active Subscription"}),e.jsx("p",{className:"text-text-secondary mb-6",children:"Upgrade to Premium to access this page"}),e.jsx("button",{onClick:()=>m("/premium"),className:"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90",children:"View Premium Plans"})]})});const h=(()=>{const{trialActive:e,trialEndsAt:s}=d();if(!e)return 0;const t=new Date,a=new Date(s)-t;return Math.ceil(a/864e5)})();return e.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-24",children:[e.jsx("h1",{className:"text-2xl font-bold text-text-primary mb-6",children:"Manage Subscription"}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(i,{size:32}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:o.trialActive?"Free Trial Active":"Premium Active"}),e.jsx("p",{className:"opacity-90",children:"annual"===o.planType?"Annual Plan":"Monthly Plan"})]})]}),o.trialActive&&e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("p",{className:"font-medium mb-1",children:["Trial ends in ",h," days"]}),e.jsxs("p",{className:"text-sm opacity-90",children:["You'll be charged on ",new Date(o.nextBillingDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"bg-surface rounded-2xl p-6 mb-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"Your Premium Features"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:["Unlimited mood history","Advanced AI insights","Mood prediction","Group therapy sessions","Priority support","Ad-free experience","Custom mood scales","Detailed data export","Therapist portal access","Voice journaling"].map(((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-sm",children:s})]},t)))})]}),e.jsxs("div",{className:"bg-surface rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(r,{className:"text-primary",size:24}),e.jsx("h3",{className:"font-semibold text-text-primary",children:"Billing Information"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Plan"}),e.jsx("span",{className:"font-medium",children:"annual"===o.planType?"â‚¹2,999/year":"â‚¹299/month"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Next billing date"}),e.jsx("span",{className:"font-medium",children:new Date(o.nextBillingDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Payment method"}),e.jsx("span",{className:"font-medium",children:"â€¢â€¢â€¢â€¢ 4242"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>m("/premium"),className:"w-full py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90",children:"monthly"===o.planType?"Upgrade to Annual":"View Plans"}),e.jsx("button",{onClick:()=>p(!0),className:"w-full py-3 border border-red-500 text-red-500 rounded-xl font-medium hover:bg-red-50",children:"Cancel Subscription"})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Cancel Subscription?"}),e.jsx("button",{onClick:()=>p(!1),children:e.jsx(n,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-xl mb-4",children:[e.jsx(c,{className:"text-orange-600 flex-shrink-0",size:20}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"You'll lose access to:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"â€¢ Unlimited mood history"}),e.jsx("li",{children:"â€¢ AI predictions & insights"}),e.jsx("li",{children:"â€¢ Group therapy sessions"}),e.jsx("li",{children:"â€¢ Priority support"})]})]})]}),e.jsxs("p",{className:"text-sm text-text-secondary",children:["Your subscription will remain active until ",new Date(o.nextBillingDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-3 border border-gray-200 rounded-xl font-medium hover:bg-gray-50",children:"Keep Premium"}),e.jsx("button",{onClick:()=>{localStorage.removeItem("safespace_premium"),p(!1),m("/")},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600",children:"Cancel"})]})]})})]})}export{m as default};
