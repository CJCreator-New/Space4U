import{j as e}from"./index-Duv89VAf.js";import{r as s}from"./react-vendor-B4gIioy9.js";import{g as t}from"./premiumUtils-Ccr3qdNt.js";import{P as a,U as r,g as i,at as n,y as l,av as c,h as o,a as d,aw as x,ax as m,ay as p,x as u}from"./icons-DVxOjm_j.js";import{S as h}from"./SafeComponent-DdckI7LM.js";import{D as g,d as y}from"./disclaimers-vV8DlMF2.js";function j(){const[t,l]=s.useState([]),[c,o]=s.useState(""),[d,x]=s.useState(""),[m,p]=s.useState(3);s.useEffect((()=>{const e=localStorage.getItem("safespace_accountability_pairs");e&&l(JSON.parse(e))}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Create Accountability Partnership"}),e.jsx("textarea",{value:c,onChange:e=>o(e.target.value),placeholder:"Enter shared goals (one per line)\nExample:\n- Log mood daily\n- Practice gratitude\n- Exercise 3x/week",className:"w-full px-4 py-3 bg-background border border-gray-200 rounded-xl resize-none",rows:4}),e.jsxs("button",{onClick:()=>{const e={id:Date.now(),status:"active",type:"anonymous",goals:c.split("\n").filter((e=>e.trim())),checkins:[],createdAt:(new Date).toISOString()},s=[...t,e];l(s),localStorage.setItem("safespace_accountability_pairs",JSON.stringify(s)),o("")},disabled:!c.trim(),className:"mt-3 flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 disabled:opacity-50",children:[e.jsx(a,{size:18}),"Create Partnership"]})]}),t.map((s=>e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(r,{className:"text-primary",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Accountability Partner"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"anonymous"===s.type?"Anonymous":"Identified"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-text-primary mb-2",children:"Shared Goals"}),e.jsx("ul",{className:"space-y-1",children:s.goals.map(((s,t)=>e.jsxs("li",{className:"flex items-center gap-2 text-text-secondary",children:[e.jsx(i,{size:16,className:"text-green-500"}),s]},t)))})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"font-medium text-text-primary mb-3",children:"Check-in"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"Mood (1-5)"}),e.jsx("input",{type:"range",min:"1",max:"5",value:m,onChange:e=>p(parseInt(e.target.value)),className:"w-full"}),e.jsx("div",{className:"text-center text-2xl",children:["😢","😕","😐","🙂","😊"][m-1]})]}),e.jsx("textarea",{value:d,onChange:e=>x(e.target.value),placeholder:"How are you doing with your goals?",className:"w-full px-4 py-3 bg-background border border-gray-200 rounded-xl resize-none",rows:3}),e.jsxs("button",{onClick:()=>(e=>{const s=t.map((s=>s.id===e?{...s,checkins:[...s.checkins,{id:Date.now(),message:d,mood:m,timestamp:(new Date).toISOString()}]}:s));l(s),localStorage.setItem("safespace_accountability_pairs",JSON.stringify(s)),x(""),p(3)})(s.id),disabled:!d.trim(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 disabled:opacity-50",children:[e.jsx(n,{size:18}),"Send Check-in"]})]})]}),s.checkins.length>0&&e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"font-medium text-text-primary mb-3",children:"Recent Check-ins"}),e.jsx("div",{className:"space-y-2",children:s.checkins.slice(-3).reverse().map((s=>e.jsxs("div",{className:"bg-background p-3 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xl",children:["😢","😕","😐","🙂","😊"][s.mood-1]}),e.jsx("span",{className:"text-xs text-text-secondary",children:new Date(s.timestamp).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-text-secondary",children:s.message})]},s.id)))})]})]},s.id))),0===t.length&&e.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[e.jsx(r,{size:48,className:"mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No accountability partnerships yet"}),e.jsx("p",{className:"text-sm",children:"Create one to get started!"})]})]})}function b(){const[t,a]=s.useState([]),[r,i]=s.useState(null),[n,o]=s.useState("");s.useEffect((()=>{const e=localStorage.getItem("safespace_peer_matches");e&&a(JSON.parse(e))}),[]);const d=()=>{if(!n.trim()||!r)return;const e=t.map((e=>e.id===r?{...e,messages:[...e.messages,{id:Date.now(),text:n,sender:"me",timestamp:(new Date).toISOString()}]}:e));a(e),localStorage.setItem("safespace_peer_matches",JSON.stringify(e)),o("")},x=t.find((e=>e.id===r));return e.jsxs("div",{className:"space-y-6",children:[r?e.jsxs("div",{className:"bg-surface rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-primary/10 p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Peer Support Chat"}),e.jsxs("p",{className:"text-sm text-text-secondary",children:["Match Score: ",x?.matchScore,"%"]})]}),e.jsx("button",{onClick:()=>i(null),className:"text-sm text-primary hover:underline",children:"Back to Matches"})]})}),e.jsx("div",{className:"h-96 overflow-y-auto p-4 space-y-3",children:0===x?.messages.length?e.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[e.jsx("p",{children:"Start the conversation!"}),e.jsx("p",{className:"text-sm",children:"Share your experiences and support each other"})]}):x?.messages.map((s=>e.jsx("div",{className:"flex "+("me"===s.sender?"justify-end":"justify-start"),children:e.jsxs("div",{className:"max-w-xs px-4 py-2 rounded-2xl "+("me"===s.sender?"bg-primary text-white":"bg-background text-text-primary"),children:[e.jsx("p",{children:s.text}),e.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(s.timestamp).toLocaleTimeString()})]})},s.id)))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&d(),placeholder:"Type your message...",className:"flex-1 px-4 py-2 bg-background border border-gray-200 rounded-xl"}),e.jsx("button",{onClick:d,disabled:!n.trim(),className:"px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary/90 disabled:opacity-50",children:e.jsx(c,{size:20})})]})})]}):e.jsxs("div",{className:"bg-surface rounded-2xl p-6 text-center",children:[e.jsx(l,{size:48,className:"mx-auto mb-4 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Find Peer Support"}),e.jsx("p",{className:"text-text-secondary mb-4",children:"Connect with someone who understands your journey"}),e.jsx("button",{onClick:()=>{const e={id:Date.now(),matchScore:Math.floor(30*Math.random())+70,sharedChallenges:["anxiety","stress"],messages:[],createdAt:(new Date).toISOString()},s=[...t,e];a(s),localStorage.setItem("safespace_peer_matches",JSON.stringify(s)),i(e.id)},className:"px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90",children:"Find a Match"})]}),t.length>0&&!r&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Your Matches"}),t.map((s=>e.jsx("div",{onClick:()=>i(s.id),className:"bg-surface p-4 rounded-xl cursor-pointer hover:bg-surface/80 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:"Peer Support Match"}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[s.messages.length," messages • ",s.matchScore,"% match"]})]}),e.jsx(l,{className:"text-primary",size:20})]})},s.id)))]})]})}function f(){const[t,a]=s.useState([]),[r,i]=s.useState(""),[n,l]=s.useState("medium"),[x,m]=s.useState(!0),[p,u]=s.useState("");s.useEffect((()=>{const e=localStorage.getItem("safespace_support_requests");e&&a(JSON.parse(e))}),[]);const h={low:"bg-blue-100 text-blue-700",medium:"bg-yellow-100 text-yellow-700",high:"bg-orange-100 text-orange-700",crisis:"bg-red-100 text-red-700"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Request Support"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Urgency Level"}),e.jsx("div",{className:"flex gap-2",children:["low","medium","high","crisis"].map((s=>e.jsx("button",{onClick:()=>l(s),className:`px-3 py-1 rounded-lg text-sm font-medium capitalize ${n===s?h[s]:"bg-gray-100 text-gray-600"}`,children:s},s)))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:e=>m(e.target.checked),className:"rounded"}),"Post anonymously"]})}),e.jsx("textarea",{value:r,onChange:e=>i(e.target.value),placeholder:"What kind of support do you need?",className:"w-full px-4 py-3 bg-background border border-gray-200 rounded-xl resize-none",rows:4}),e.jsxs("button",{onClick:()=>{const e=[{id:Date.now(),message:r,urgency:n,isAnonymous:x,status:"open",responses:[],createdAt:(new Date).toISOString()},...t];a(e),localStorage.setItem("safespace_support_requests",JSON.stringify(e)),i("")},disabled:!r.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 disabled:opacity-50",children:[e.jsx(o,{size:18}),"Request Support"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Community Support Requests"}),0===t.length?e.jsxs("div",{className:"text-center py-12 text-text-secondary bg-surface rounded-2xl",children:[e.jsx(d,{size:48,className:"mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No support requests yet"})]}):t.map((s=>e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium capitalize ${h[s.urgency]}`,children:s.urgency}),e.jsx("span",{className:"text-xs text-text-secondary",children:new Date(s.createdAt).toLocaleDateString()}),s.isAnonymous&&e.jsx("span",{className:"text-xs text-text-secondary",children:"• Anonymous"})]}),e.jsx("p",{className:"text-text-primary",children:s.message})]})}),s.responses.length>0&&e.jsxs("div",{className:"mt-4 space-y-2 border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-text-secondary",children:"Responses"}),s.responses.map((s=>e.jsxs("div",{className:"bg-background p-3 rounded-xl",children:[e.jsx("p",{className:"text-sm text-text-primary",children:s.text}),e.jsx("p",{className:"text-xs text-text-secondary mt-1",children:new Date(s.timestamp).toLocaleString()})]},s.id)))]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("input",{type:"text",value:p,onChange:e=>u(e.target.value),placeholder:"Offer support...",className:"flex-1 px-4 py-2 bg-background border border-gray-200 rounded-xl text-sm"}),e.jsx("button",{onClick:()=>(e=>{const s=t.map((s=>s.id===e?{...s,responses:[...s.responses,{id:Date.now(),text:p,timestamp:(new Date).toISOString()}],status:"responded"}:s));a(s),localStorage.setItem("safespace_support_requests",JSON.stringify(s)),u("")})(s.id),disabled:!p.trim(),className:"px-4 py-2 bg-primary text-white rounded-xl hover:bg-primary/90 disabled:opacity-50",children:e.jsx(c,{size:16})})]})]},s.id)))]})]})}function N(){const[t,a]=s.useState(3),[r,i]=s.useState([]),[n,l]=s.useState([]);s.useEffect((()=>{const e=localStorage.getItem("safespace_suggestion_history");e&&l(JSON.parse(e))}),[]);const c={1:[{type:"breathing",title:"Try 4-7-8 Breathing",description:"Breathe in for 4, hold for 7, out for 8"},{type:"activity",title:"Take a Short Walk",description:"Even 5 minutes can help shift your mood"},{type:"crisis",title:"Crisis Resources",description:"Access immediate support if needed"}],2:[{type:"journaling",title:"Write About Your Feelings",description:"Express what you're experiencing"},{type:"coping",title:"Use a Coping Skill",description:"Try one of your favorite techniques"},{type:"social",title:"Reach Out",description:"Connect with someone you trust"}],3:[{type:"gratitude",title:"List 3 Gratitudes",description:"What are you thankful for today?"},{type:"mindfulness",title:"Quick Meditation",description:"5-minute mindfulness exercise"},{type:"habit",title:"Check Your Habits",description:"Complete a wellness habit"}],4:[{type:"social",title:"Connect with Friends",description:"Share your positive energy"},{type:"exercise",title:"Physical Activity",description:"Channel your energy into movement"},{type:"creative",title:"Creative Expression",description:"Try art, music, or writing"}],5:[{type:"celebrate",title:"Celebrate Your Mood!",description:"Acknowledge what's going well"},{type:"help",title:"Support Others",description:"Share your positivity with the community"},{type:"plan",title:"Plan Ahead",description:"Set goals while you're feeling great"}]},o=(e,s)=>{const a=[{id:Date.now(),mood:t,suggestion:e.title,helpful:s,timestamp:(new Date).toISOString()},...n].slice(0,50);l(a),localStorage.setItem("safespace_suggestion_history",JSON.stringify(a))},d=["Very Low","Low","Neutral","Good","Great"],u=["😢","😕","😐","🙂","😊"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Get Mood-Based Suggestions"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-3",children:"How are you feeling right now?"}),e.jsx("input",{type:"range",min:"1",max:"5",value:t,onChange:e=>a(parseInt(e.target.value)),className:"w-full"}),e.jsx("div",{className:"flex justify-between mt-2",children:u.map(((s,t)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl",children:s}),e.jsx("div",{className:"text-xs text-text-secondary",children:d[t]})]},t)))})]}),e.jsxs("button",{onClick:()=>{i(c[t]||[])},className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90",children:[e.jsx(x,{size:18}),"Get Suggestions"]})]}),r.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Suggested Activities"}),r.map(((s,t)=>e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-text-secondary",children:s.description})]}),e.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-lg capitalize",children:s.type})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>o(s,!0),className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-lg text-sm hover:bg-green-200",children:[e.jsx(m,{size:14}),"Helpful"]}),e.jsxs("button",{onClick:()=>o(s,!1),className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-600 rounded-lg text-sm hover:bg-gray-200",children:[e.jsx(p,{size:14}),"Not Helpful"]})]})]},t)))]}),n.length>0&&e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"Suggestion History"}),e.jsx("div",{className:"space-y-2",children:n.slice(0,5).map((s=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:u[s.mood-1]}),e.jsx("span",{className:"text-text-primary",children:s.suggestion})]}),e.jsx("span",{className:s.helpful?"text-green-600":"text-gray-400",children:s.helpful?e.jsx(m,{size:14}):e.jsx(p,{size:14})})]},s.id)))})]})]})}function v(){const{isPremium:a}=t(),[i,n]=s.useState("partner"),c=[{id:"partner",label:"Accountability",icon:r},{id:"peer",label:"Peer Support",icon:l,premium:!0},{id:"support",label:"Support Requests",icon:o},{id:"suggestions",label:"Suggestions",icon:x}];return e.jsx(h,{children:e.jsxs("div",{className:"max-w-6xl mx-auto p-4 pb-24",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Social & Community"}),a&&e.jsx(u,{className:"w-6 h-6 text-yellow-500"})]}),e.jsx("p",{className:"text-text-secondary",children:"Connect, support, and grow together"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(g,{disclaimer:y.general})}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:c.map((s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>n(s.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-colors "+(i===s.id?"bg-primary text-white":"bg-surface text-text-secondary hover:text-text-primary"),children:[e.jsx(t,{size:18}),s.label]},s.id)}))}),e.jsxs("div",{children:["partner"===i&&e.jsx(j,{}),"peer"===i&&e.jsx(b,{}),"support"===i&&e.jsx(f,{}),"suggestions"===i&&e.jsx(N,{})]})]})})}export{v as default};
