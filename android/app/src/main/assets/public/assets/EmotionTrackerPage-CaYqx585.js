import{u as e,j as s}from"./index-C2hV942_.js";import{u as t,r as i}from"./react-vendor-B4gIioy9.js";import{S as a}from"./SafeComponent-Bl7I87cI.js";import{P as r}from"./PremiumPaywall-WAlq_sCS.js";import{g as o}from"./premiumUtils-Ccr3qdNt.js";import{D as n,d as l}from"./disclaimers-DMKdW3Y_.js";import{R as m,r as c}from"./ResearchCard-Dmj6EKWy.js";import{x as d,P as x,ax as p,a as y}from"./icons-Cn7BKMG2.js";const h={joy:{color:"yellow",secondary:["Optimistic","Proud","Content","Playful"]},trust:{color:"green",secondary:["Accepting","Confident","Secure"]},fear:{color:"purple",secondary:["Anxious","Worried","Scared","Nervous"]},surprise:{color:"blue",secondary:["Amazed","Confused","Startled"]},sadness:{color:"indigo",secondary:["Lonely","Disappointed","Hurt","Depressed"]},disgust:{color:"pink",secondary:["Disapproving","Uncomfortable","Repulsed"]},anger:{color:"red",secondary:["Frustrated","Irritated","Furious","Resentful"]},anticipation:{color:"orange",secondary:["Hopeful","Excited","Eager"]}};function j(){t();const{t:j}=e(),[u,g]=i.useState([]),[b,f]=i.useState(!1),[N,v]=i.useState({primary_emotion:"",secondary_emotions:[],intensity:5,trigger:""}),{isPremium:_}=o();i.useEffect((()=>{const e=JSON.parse(localStorage.getItem("space4u_emotion_logs")||"[]");g(e)}),[]);return s.jsx(a,{children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:j("emotions.title")}),_&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-full text-xs font-medium",children:[s.jsx(d,{size:12}),j("common.premium")]})]}),s.jsx("p",{className:"text-text-secondary",children:j("emotions.subtitle")})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary",children:[s.jsx(x,{className:"w-5 h-5"})," ",j("emotions.logEmotion")]})]}),s.jsx("div",{className:"mb-6",children:s.jsx(n,{disclaimer:l.emotions})}),s.jsx("div",{className:"mb-6",children:s.jsx(m,{citations:c.emotions,title:"Why Naming Emotions Helps"})}),_&&u.length>0&&s.jsxs("div",{className:"card p-6 mb-6 bg-gradient-to-r from-purple-50 to-pink-50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(p,{className:"w-6 h-6 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:j("emotions.analytics.title")})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.length}),s.jsx("div",{className:"text-sm text-gray-600",children:j("emotions.analytics.totalLogs")})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.length>0?Math.round(u.reduce(((e,s)=>e+s.intensity),0)/u.length):0}),s.jsx("div",{className:"text-sm text-gray-600",children:j("emotions.analytics.avgIntensity")})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 capitalize",children:u.length>0?u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[Object.keys(u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})).reduce(((e,s)=>u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[e]>u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[s]?e:s))]&&Object.keys(u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})).reduce(((e,s)=>u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[e]>u.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[s]?e:s)):"N/A"}),s.jsx("div",{className:"text-sm text-gray-600",children:j("emotions.analytics.mostCommon")})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.filter((e=>new Date(e.created_at)>new Date(Date.now()-6048e5))).length}),s.jsx("div",{className:"text-sm text-gray-600",children:j("emotions.analytics.thisWeek")})]})]})]}),0===u.length?s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(y,{className:"w-16 h-16 text-text-secondary mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:j("emotions.empty.title")}),s.jsx("p",{className:"text-text-secondary mb-4",children:j("emotions.empty.description")}),s.jsxs("div",{className:"max-w-md mx-auto mb-6 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:j("emotions.empty.benefitsTitle")}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{children:["â€¢ ",j("emotions.empty.benefit1")]}),s.jsxs("li",{children:["â€¢ ",j("emotions.empty.benefit2")]}),s.jsxs("li",{children:["â€¢ ",j("emotions.empty.benefit3")]}),s.jsxs("li",{children:["â€¢ ",j("emotions.empty.benefit4")]})]})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary",children:[s.jsx(x,{className:"w-5 h-5"})," ",j("emotions.logFirst")]})]}):s.jsxs("div",{className:"space-y-4",children:[(_?u:u.slice(0,30)).map((e=>s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold capitalize",children:e.primary_emotion}),s.jsx("p",{className:"text-text-secondary text-sm",children:new Date(e.created_at).toLocaleString()})]}),s.jsx("span",{className:"text-lg font-bold",children:j("emotions.intensityLabel",{value:e.intensity})})]}),e.secondary_emotions.length>0&&s.jsx("div",{className:"flex gap-2 flex-wrap mb-3",children:e.secondary_emotions.map(((e,t)=>s.jsx("span",{className:"px-3 py-1 bg-hover rounded-full text-sm",children:e},t)))}),e.trigger&&s.jsx("p",{className:"text-text-secondary",children:j("emotions.triggerLabel",{trigger:e.trigger})})]},e.id))),!_&&u.length>30&&s.jsx(r,{feature:j("emotions.premium.feature"),description:j("emotions.premium.description"),children:s.jsx("div",{className:"h-40"})})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-surface rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:j("emotions.modal.title")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:j("emotions.modal.primaryLabel")}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(h).map((e=>s.jsx("button",{onClick:()=>v({...N,primary_emotion:e,secondary_emotions:[]}),className:"p-3 rounded-xl capitalize font-medium "+(N.primary_emotion===e?"bg-primary text-white":"bg-hover"),children:j(`emotions.primary.${e}`)},e)))})]}),N.primary_emotion&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:j("emotions.modal.secondaryLabel")}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:h[N.primary_emotion].secondary.map((e=>s.jsx("button",{onClick:()=>{const s=N.secondary_emotions.includes(e)?N.secondary_emotions.filter((s=>s!==e)):[...N.secondary_emotions,e];v({...N,secondary_emotions:s})},className:"px-3 py-2 rounded-lg text-sm "+(N.secondary_emotions.includes(e)?"bg-primary text-white":"bg-hover"),children:e},e)))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:j("emotions.modal.intensityLabel")}),s.jsx("input",{type:"range",min:"1",max:"10",value:N.intensity,onChange:e=>v({...N,intensity:parseInt(e.target.value)}),className:"w-full"}),s.jsx("div",{className:"text-center text-2xl font-bold",children:N.intensity})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:j("emotions.modal.triggerLabel")}),s.jsx("textarea",{value:N.trigger,onChange:e=>v({...N,trigger:e.target.value}),className:"input w-full h-24",placeholder:j("emotions.modal.triggerPlaceholder")})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>f(!1),className:"btn-secondary flex-1",children:j("common.cancel")}),s.jsx("button",{onClick:()=>{const e=[{...N,id:Date.now(),created_at:(new Date).toISOString()},...u];localStorage.setItem("space4u_emotion_logs",JSON.stringify(e)),g(e),f(!1),v({primary_emotion:"",secondary_emotions:[],intensity:5,trigger:""})},disabled:!N.primary_emotion,className:"btn-primary flex-1",children:j("common.save")})]})]})]})})]})})}export{j as default};

