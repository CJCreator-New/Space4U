import{u as e,b as t,j as s}from"./index-C2hV942_.js";import{r as a,u as l}from"./react-vendor-B4gIioy9.js";import{c as r,af as i,D as n,O as c}from"./icons-Cn7BKMG2.js";function d(){const{t:d}=e(),[m,o]=a.useState(!0),[u,x]=a.useState(""),[h,p]=a.useState(""),[b,j]=a.useState(""),[g,f]=a.useState(!1),[N,v]=a.useState(""),{signIn:y,signUp:w,error:k}=t(),S=l();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:d("auth.title")}),s.jsx("p",{className:"text-text-secondary",children:d("auth.subtitle")})]}),k&&s.jsxs("div",{className:"card p-6 mb-4 bg-red-50 border-2 border-red-200",children:[s.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:d("auth.configError")}),s.jsx("p",{className:"text-sm text-red-700",children:k}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:d("auth.contactAdmin")})]}),s.jsxs("div",{className:"card p-8",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsx("button",{onClick:()=>o(!0),className:"flex-1 py-2 rounded-lg font-medium "+(m?"bg-primary text-white":"bg-hover"),children:d("auth.login")}),s.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-2 rounded-lg font-medium "+(m?"bg-hover":"bg-primary text-white"),children:d("auth.signup")})]}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),v(""),f(!0);try{if(m){const{error:e}=await y(u,h);if(e)throw e;S("/")}else{const{error:e}=await w(u,h);if(e)throw e;v(d("auth.checkEmail"))}}catch(t){v(t.message)}finally{f(!1)}},className:"space-y-4",children:[k&&s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-200 text-sm text-yellow-800",children:d("auth.authUnavailable")}),!m&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:d("auth.username")}),s.jsxs("div",{className:"relative",children:[s.jsx(r,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"text",value:b,onChange:e=>j(e.target.value),className:"input w-full pl-10",placeholder:d("auth.usernamePlaceholder"),required:!m})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:d("auth.email")}),s.jsxs("div",{className:"relative",children:[s.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"email",value:u,onChange:e=>x(e.target.value),className:"input w-full pl-10",placeholder:d("auth.emailPlaceholder"),required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:d("auth.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(n,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"password",value:h,onChange:e=>p(e.target.value),className:"input w-full pl-10",placeholder:d("auth.passwordPlaceholder"),required:!0,minLength:6})]})]}),N&&s.jsx("div",{className:"p-3 rounded-lg text-sm "+(N.includes("Check")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:N}),s.jsx("button",{type:"submit",disabled:g||k,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"animate-spin",size:20}),d(m?"auth.loggingIn":"auth.creatingAccount")]}):d(m?"auth.login":"auth.createAccount")})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:[s.jsx("p",{children:d("auth.termsAgree")}),s.jsx("p",{className:"mt-2",children:d("auth.accountRequired")})]})]})]})})}export{d as default};
