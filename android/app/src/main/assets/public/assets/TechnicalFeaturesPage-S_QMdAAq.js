import{j as e}from"./index-C2hV942_.js";import{r as s}from"./react-vendor-B4gIioy9.js";import{g as t}from"./premiumUtils-Ccr3qdNt.js";import{P as a}from"./PremiumPaywall-WAlq_sCS.js";import{aJ as i,aK as r,r as n,aL as l,aM as c,g as d,h as o,ag as x,Y as m,x as p}from"./icons-Cn7BKMG2.js";import{S as h}from"./SafeComponent-Bl7I87cI.js";function u(){const[t,a]=s.useState(!1),[l,c]=s.useState([]),[d,o]=s.useState(null);s.useEffect((()=>{const e=localStorage.getItem("space4u_voice_journals");e&&c(JSON.parse(e))}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-2xl p-6 text-center",children:[e.jsx(i,{size:48,className:"mx-auto mb-4 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Voice Journaling"}),e.jsx("p",{className:"text-text-secondary mb-6",children:"Record your thoughts and feelings"}),t?e.jsxs("button",{onClick:()=>{d&&(d.stop(),d.stream.getTracks().forEach((e=>e.stop())),a(!1))},className:"flex items-center gap-2 px-6 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 mx-auto animate-pulse",children:[e.jsx(r,{size:20}),"Stop Recording"]}):e.jsxs("button",{onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e),t=[];s.ondataavailable=e=>t.push(e.data),s.onstop=()=>{const e=new Blob(t,{type:"audio/webm"}),a=URL.createObjectURL(e),i=[{id:Date.now(),url:a,duration:Math.floor((Date.now()-s.startTime)/1e3),transcription:"Transcription not available (requires API)",createdAt:(new Date).toISOString()},...l];c(i),localStorage.setItem("space4u_voice_journals",JSON.stringify(i))},s.startTime=Date.now(),s.start(),o(s),a(!0)}catch(e){alert("Microphone access denied")}},className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 mx-auto",children:[e.jsx(i,{size:20}),"Start Recording"]})]}),l.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Your Recordings"}),l.map((s=>e.jsxs("div",{className:"bg-surface rounded-2xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-text-primary",children:new Date(s.createdAt).toLocaleString()}),e.jsxs("p",{className:"text-sm text-text-secondary",children:[s.duration,"s"]})]}),e.jsx("button",{onClick:()=>(e=>{const s=l.filter((s=>s.id!==e));c(s),localStorage.setItem("space4u_voice_journals",JSON.stringify(s))})(s.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:e.jsx(n,{size:18})})]}),e.jsx("audio",{controls:!0,src:s.url,className:"w-full mb-2"}),e.jsx("p",{className:"text-sm text-text-secondary italic",children:s.transcription})]},s.id)))]})]})}function j(){const[t,a]=s.useState(navigator.onLine),[i,r]=s.useState([]);s.useEffect((()=>{const e=()=>a(!0),s=()=>a(!1);window.addEventListener("online",e),window.addEventListener("offline",s);const t=localStorage.getItem("space4u_sync_queue");return t&&r(JSON.parse(t)),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-2xl p-6 "+(t?"bg-green-50 border border-green-200":"bg-orange-50 border border-orange-200"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t?e.jsx(l,{className:"text-green-600",size:32}):e.jsx(c,{className:"text-orange-600",size:32}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t?"Online":"Offline"}),e.jsx("p",{className:"text-sm",children:t?"Connected to the internet":"Working offline"})]})]}),!t&&e.jsx("p",{className:"text-sm text-orange-800",children:"Your data is being saved locally and will sync when you're back online."})]}),e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"Offline Features"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Mood tracking works offline"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"All tools accessible offline"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Data saved to local storage"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Auto-sync when online"})]})]})]}),i.length>0&&e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Sync Queue"}),e.jsx("button",{onClick:()=>{r([]),localStorage.removeItem("space4u_sync_queue")},className:"text-sm text-primary hover:underline",children:"Clear Queue"})]}),e.jsx("div",{className:"space-y-2",children:i.map(((s,t)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background rounded-xl",children:[e.jsx(o,{className:"text-orange-500",size:18}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-text-primary",children:s.table}),e.jsx("p",{className:"text-xs text-text-secondary",children:s.operation})]})]},t)))})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"ðŸ“± Offline Mode"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ All features work without internet"}),e.jsx("li",{children:"â€¢ Data syncs automatically when online"}),e.jsx("li",{children:"â€¢ Crisis resources cached for offline access"}),e.jsx("li",{children:"â€¢ No data loss during offline periods"})]})]})]})}function f(){const[t,a]=s.useState(!1),[i,r]=s.useState(!1);s.useEffect((()=>{a(window.matchMedia("(display-mode: standalone)").matches),r("granted"===Notification.permission)}),[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(x,{className:"text-primary",size:32}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"PWA Status"}),e.jsx("p",{className:"text-sm text-text-secondary",children:t?"Installed as app":"Running in browser"})]})]}),t?e.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[e.jsx(d,{size:20}),e.jsx("span",{children:"App is installed on your device"})]}):e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Install Space4U for a better experience:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 mb-3",children:[e.jsx("li",{children:"â€¢ Faster loading times"}),e.jsx("li",{children:"â€¢ Works offline"}),e.jsx("li",{children:"â€¢ App-like experience"}),e.jsx("li",{children:"â€¢ Home screen icon"})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"Look for the install button in your browser's menu or address bar"})]})]}),e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"text-primary",size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-text-primary",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Get reminders and updates"})]})]}),i?e.jsx(d,{className:"text-green-500",size:24}):e.jsx("button",{onClick:async()=>{const e=await Notification.requestPermission();r("granted"===e),"granted"===e&&new Notification("Space4U",{body:"Notifications enabled!"})},className:"px-4 py-2 bg-primary text-white rounded-xl text-sm font-medium hover:bg-primary/90",children:"Enable"})]}),i&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),"Mood check-in reminders"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),"Medication reminders"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"}),"Habit reminders"]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),"Community updates"]})]})]}),e.jsxs("div",{className:"bg-surface rounded-2xl p-6",children:[e.jsx("h3",{className:"font-semibold text-text-primary mb-4",children:"PWA Features"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Offline functionality"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Background sync"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Add to home screen"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-text-primary",children:"Fast loading"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"ðŸ“± Install Instructions"}),e.jsxs("div",{className:"text-sm text-purple-800 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Chrome/Edge:"})," Click the install icon in the address bar"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Safari (iOS):"})," Tap Share â†’ Add to Home Screen"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Firefox:"})," Menu â†’ Install"]})]})]})]})}function g(){const{isPremium:r}=t(),[n,c]=s.useState("voice"),d=[{id:"voice",label:"Voice Journal",icon:i,premium:!0},{id:"offline",label:"Offline Mode",icon:l},{id:"pwa",label:"PWA Settings",icon:x}];return e.jsx(h,{children:e.jsxs("div",{className:"max-w-6xl mx-auto p-4 pb-24",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:"Technical Features"}),r&&e.jsx(p,{className:"w-6 h-6 text-yellow-500"})]}),e.jsx("p",{className:"text-text-secondary",children:"Voice journaling, offline mode, and PWA settings"})]}),e.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:d.map((s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>c(s.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium whitespace-nowrap transition-colors "+(n===s.id?"bg-primary text-white":"bg-surface text-text-secondary hover:text-text-primary"),children:[e.jsx(t,{size:18}),s.label]},s.id)}))}),e.jsxs("div",{children:["voice"===n&&e.jsx(a,{feature:"Voice Journaling",description:"Record your thoughts with voice-to-text journaling. Premium members get unlimited voice entries with automatic transcription.",children:e.jsx(u,{})}),"offline"===n&&e.jsx(j,{}),"pwa"===n&&e.jsx(f,{})]})]})})}export{g as default};

