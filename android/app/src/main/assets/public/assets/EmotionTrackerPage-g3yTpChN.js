import{j as e}from"./index-Duv89VAf.js";import{u as s,r as t}from"./react-vendor-B4gIioy9.js";import{S as a}from"./SafeComponent-DdckI7LM.js";import{P as i}from"./PremiumPaywall-BALxDloP.js";import{g as r}from"./premiumUtils-Ccr3qdNt.js";import{D as n,d as o}from"./disclaimers-vV8DlMF2.js";import{R as l,r as c}from"./ResearchCard-C85HT-rf.js";import{x as m,P as d,aq as x,a as p}from"./icons-DVxOjm_j.js";const h={joy:{color:"yellow",secondary:["Optimistic","Proud","Content","Playful"]},trust:{color:"green",secondary:["Accepting","Confident","Secure"]},fear:{color:"purple",secondary:["Anxious","Worried","Scared","Nervous"]},surprise:{color:"blue",secondary:["Amazed","Confused","Startled"]},sadness:{color:"indigo",secondary:["Lonely","Disappointed","Hurt","Depressed"]},disgust:{color:"pink",secondary:["Disapproving","Uncomfortable","Repulsed"]},anger:{color:"red",secondary:["Frustrated","Irritated","Furious","Resentful"]},anticipation:{color:"orange",secondary:["Hopeful","Excited","Eager"]}};function y(){s();const[y,u]=t.useState([]),[g,j]=t.useState(!1),[f,N]=t.useState({primary_emotion:"",secondary_emotions:[],intensity:5,trigger:""}),{isPremium:b}=r();t.useEffect((()=>{const e=JSON.parse(localStorage.getItem("safespace_emotion_logs")||"[]");u(e)}),[]);return e.jsx(a,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Emotion Tracker"}),b&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-full text-xs font-medium",children:[e.jsx(m,{size:12}),"Premium"]})]}),e.jsx("p",{className:"text-text-secondary",children:"Understand your emotional patterns"})]}),e.jsxs("button",{onClick:()=>j(!0),className:"btn-primary",children:[e.jsx(d,{className:"w-5 h-5"})," Log Emotion"]})]}),e.jsx("div",{className:"mb-6",children:e.jsx(n,{disclaimer:o.emotions})}),e.jsx("div",{className:"mb-6",children:e.jsx(l,{citations:c.emotions,title:"Why Naming Emotions Helps"})}),b&&y.length>0&&e.jsxs("div",{className:"card p-6 mb-6 bg-gradient-to-r from-purple-50 to-pink-50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(x,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Emotion Pattern Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Logs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.length>0?Math.round(y.reduce(((e,s)=>e+s.intensity),0)/y.length):0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Intensity"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 capitalize",children:y.length>0?y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[Object.keys(y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})).reduce(((e,s)=>y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[e]>y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[s]?e:s))]&&Object.keys(y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})).reduce(((e,s)=>y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[e]>y.reduce(((e,s)=>(e[s.primary_emotion]=(e[s.primary_emotion]||0)+1,e)),{})[s]?e:s)):"N/A"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Most Common"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.filter((e=>new Date(e.created_at)>new Date(Date.now()-6048e5))).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"This Week"})]})]})]}),0===y.length?e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(p,{className:"w-16 h-16 text-text-secondary mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Start Tracking Emotions"}),e.jsx("p",{className:"text-text-secondary mb-4",children:"Research shows that naming specific emotions helps regulate them better"}),e.jsxs("div",{className:"max-w-md mx-auto mb-6 text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Benefits of emotional granularity:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Better emotion regulation and coping"}),e.jsx("li",{children:"• Reduced emotional reactivity"}),e.jsx("li",{children:"• Improved mental health outcomes"}),e.jsx("li",{children:"• Enhanced self-awareness"})]})]}),e.jsxs("button",{onClick:()=>j(!0),className:"btn-primary",children:[e.jsx(d,{className:"w-5 h-5"})," Log First Emotion"]})]}):e.jsxs("div",{className:"space-y-4",children:[(b?y:y.slice(0,30)).map((s=>e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold capitalize",children:s.primary_emotion}),e.jsx("p",{className:"text-text-secondary text-sm",children:new Date(s.created_at).toLocaleString()})]}),e.jsxs("span",{className:"text-lg font-bold",children:["Intensity: ",s.intensity,"/10"]})]}),s.secondary_emotions.length>0&&e.jsx("div",{className:"flex gap-2 flex-wrap mb-3",children:s.secondary_emotions.map(((s,t)=>e.jsx("span",{className:"px-3 py-1 bg-hover rounded-full text-sm",children:s},t)))}),s.trigger&&e.jsxs("p",{className:"text-text-secondary",children:["Trigger: ",s.trigger]})]},s.id))),!b&&y.length>30&&e.jsx(i,{feature:"Full Emotion History",description:"Upgrade to Premium to access your complete emotion history and advanced analytics.",children:e.jsx("div",{className:"h-40"})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-surface rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Log Emotion"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Primary Emotion"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:Object.keys(h).map((s=>e.jsx("button",{onClick:()=>N({...f,primary_emotion:s,secondary_emotions:[]}),className:"p-3 rounded-xl capitalize font-medium "+(f.primary_emotion===s?"bg-primary text-white":"bg-hover"),children:s},s)))})]}),f.primary_emotion&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secondary Emotions"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:h[f.primary_emotion].secondary.map((s=>e.jsx("button",{onClick:()=>{const e=f.secondary_emotions.includes(s)?f.secondary_emotions.filter((e=>e!==s)):[...f.secondary_emotions,s];N({...f,secondary_emotions:e})},className:"px-3 py-2 rounded-lg text-sm "+(f.secondary_emotions.includes(s)?"bg-primary text-white":"bg-hover"),children:s},s)))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Intensity (1-10)"}),e.jsx("input",{type:"range",min:"1",max:"10",value:f.intensity,onChange:e=>N({...f,intensity:parseInt(e.target.value)}),className:"w-full"}),e.jsx("div",{className:"text-center text-2xl font-bold",children:f.intensity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"What triggered this? (Optional)"}),e.jsx("textarea",{value:f.trigger,onChange:e=>N({...f,trigger:e.target.value}),className:"input w-full h-24",placeholder:"Describe the situation..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{onClick:()=>{const e=[{...f,id:Date.now(),created_at:(new Date).toISOString()},...y];localStorage.setItem("safespace_emotion_logs",JSON.stringify(e)),u(e),j(!1),N({primary_emotion:"",secondary_emotions:[],intensity:5,trigger:""})},disabled:!f.primary_emotion,className:"btn-primary flex-1",children:"Save"})]})]})]})})]})})}export{y as default};
