function e(e){const t=new Map;return function(...n){const o=JSON.stringify(n);if(t.has(o))return t.get(o);const r=e.apply(this,n);if(t.set(o,r),t.size>100){const e=t.keys().next().value;t.delete(e)}return r}}const t={"first-steps":{id:"first-steps",name:"First Steps",description:"Log your first mood",emoji:"ðŸŒ±",category:"consistency",points:10,requirement:1,rarity:"common"},"week-warrior":{id:"week-warrior",name:"Week Warrior",description:"7-day logging streak",emoji:"ðŸ”¥",category:"consistency",points:25,requirement:7,rarity:"uncommon"},"month-master":{id:"month-master",name:"Month Master",description:"30-day logging streak",emoji:"â­",category:"consistency",points:100,requirement:30,rarity:"rare"},"century-club":{id:"century-club",name:"Century Club",description:"100 total mood logs",emoji:"ðŸ†",category:"consistency",points:150,requirement:100,rarity:"epic"},"consistent-champion":{id:"consistent-champion",name:"Consistent Champion",description:"Never missed a day for 30 days",emoji:"ðŸ’Ž",category:"consistency",points:200,requirement:30,rarity:"legendary"},"conversation-starter":{id:"conversation-starter",name:"Conversation Starter",description:"Make your first post",emoji:"ðŸ’¬",category:"community",points:15,requirement:1,rarity:"common"},"voice-heard":{id:"voice-heard",name:"Voice Heard",description:"Post in 3 different circles",emoji:"ðŸŽ¤",category:"community",points:30,requirement:3,rarity:"uncommon"},"supporting-soul":{id:"supporting-soul",name:"Supporting Soul",description:"Receive 10 hearts on posts",emoji:"â¤ï¸",category:"community",points:50,requirement:10,rarity:"rare"},"circle-builder":{id:"circle-builder",name:"Circle Builder",description:"Join 5 circles",emoji:"ðŸ¤",category:"community",points:40,requirement:5,rarity:"uncommon"},"community-hero":{id:"community-hero",name:"Community Hero",description:"50 helpful comments",emoji:"ðŸŒŸ",category:"community",points:75,requirement:50,rarity:"epic"},"mindful-moment":{id:"mindful-moment",name:"Mindful Moment",description:"Complete a breathing exercise",emoji:"ðŸ§˜",category:"wellness",points:20,requirement:1,rarity:"common"},"positive-vibes":{id:"positive-vibes",name:"Positive Vibes",description:"Log 7 consecutive happy moods",emoji:"ðŸŒˆ",category:"wellness",points:60,requirement:7,rarity:"rare"},resilience:{id:"resilience",name:"Resilience",description:"Log mood on a tough day",emoji:"ðŸ’ª",category:"wellness",points:25,requirement:1,rarity:"uncommon"},"one-month-strong":{id:"one-month-strong",name:"One Month Strong",description:"30 days on space4u",emoji:"ðŸŽ‚",category:"milestone",points:50,requirement:30,rarity:"uncommon"},"three-month-journey":{id:"three-month-journey",name:"Three Month Journey",description:"90 days on space4u",emoji:"ðŸŽ‰",category:"milestone",points:100,requirement:90,rarity:"rare"}},n={beginner:{name:"Beginner",emoji:"ðŸŒ±",min:0,max:50},regular:{name:"Regular",emoji:"â­",min:51,max:150},champion:{name:"Champion",emoji:"ðŸ†",min:151,max:500},legend:{name:"Legend",emoji:"ðŸ‘‘",min:501,max:1/0}},o={moodLog:1,comment:2,heartReceived:1},r=()=>{const e=localStorage.getItem("space4u_badges");if(!e){const e={badges:Object.values(t).map((e=>({id:e.id,name:e.name,unlocked:!1,progress:0,requirement:e.requirement,unlockedAt:null}))),totalPoints:0,level:"beginner"};return localStorage.setItem("space4u_badges",JSON.stringify(e)),e}return JSON.parse(e)},i=e((e=>{for(const[t,o]of Object.entries(n))if(e>=o.min&&e<=o.max)return t;return"beginner"})),s=e((e=>{const t=i(e),o=Object.keys(n),r=o.indexOf(t);if(r===o.length-1)return{progress:100,pointsNeeded:0,nextLevel:null};const s=o[r+1],a=n[s],m=n[t].max,c=a.min-e;return{progress:(e-n[t].min)/(m-n[t].min)*100,pointsNeeded:c,nextLevel:s}})),a=(e,n)=>{const o=JSON.parse(localStorage.getItem("space4u_badges")),r=o.badges.find((t=>t.id===e));if(!r||r.unlocked)return null;const s=r.progress>=r.requirement-1;r.progress=Math.min(n,r.requirement);let a=!1;return r.progress>=r.requirement&&(r.unlocked=!0,r.unlockedAt=(new Date).toISOString(),o.totalPoints+=t[e].points,o.level=i(o.totalPoints),a=!0),localStorage.setItem("space4u_badges",JSON.stringify(o)),{badge:t[e],unlocked:a,progress:r.progress,wasClose:s&&!a}},m=(e,t)=>{const n=JSON.parse(localStorage.getItem("space4u_badges"));return n.totalPoints+=e,n.level=i(n.totalPoints),localStorage.setItem("space4u_badges",JSON.stringify(n)),n.totalPoints},c=()=>{const e=JSON.parse(localStorage.getItem("space4u_moods")||"{}"),t=Object.keys(e).length,n=[];if(t>=1){const e=a("first-steps",1);e&&n.push(e)}if(t>=1){const e=a("century-club",t);e&&n.push(e)}const o=Object.entries(e).sort((([e],[t])=>new Date(e)-new Date(t)));let r=0,i=1;if(o.length>0){r=1;for(let e=1;e<o.length;e++){const t=new Date(o[e-1][0]);1===(new Date(o[e][0])-t)/864e5?(i++,r=i):(i=1,r=1)}}if(r>=1){const e=a("week-warrior",r);e&&n.push(e)}if(r>=1){const e=a("month-master",r);e&&n.push(e)}const s=o.slice(-7).map((([,e])=>e.mood));if(s.length>=7&&s.every((e=>e>=4))){const e=a("positive-vibes",7);e&&n.push(e)}return n};export{t as B,n as L,o as P,m as a,c,s as g,r as i};

