import{u as e,j as s}from"./index-Duv89VAf.js";import{r as t,u as a}from"./react-vendor-B4gIioy9.js";import{c as r,ae as l,D as i,O as n}from"./icons-DVxOjm_j.js";function c(){const[c,o]=t.useState(!0),[d,m]=t.useState(""),[x,u]=t.useState(""),[h,p]=t.useState(""),[j,b]=t.useState(!1),[g,y]=t.useState(""),{signIn:f,signUp:N,error:v}=e(),w=a();return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Space4U"}),s.jsx("p",{className:"text-text-secondary",children:"Your mental wellness journey starts here"})]}),v&&s.jsxs("div",{className:"card p-6 mb-4 bg-red-50 border-2 border-red-200",children:[s.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"⚠️ Configuration Error"}),s.jsx("p",{className:"text-sm text-red-700",children:v}),s.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please contact the administrator or check your .env file."})]}),s.jsxs("div",{className:"card p-8",children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsx("button",{onClick:()=>o(!0),className:"flex-1 py-2 rounded-lg font-medium "+(c?"bg-primary text-white":"bg-hover"),children:"Login"}),s.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-2 rounded-lg font-medium "+(c?"bg-hover":"bg-primary text-white"),children:"Sign Up"})]}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),y(""),b(!0);try{if(c){const{error:e}=await f(d,x);if(e)throw e;w("/")}else{const{error:e}=await N(d,x);if(e)throw e;y("Check your email to confirm your account!")}}catch(s){y(s.message)}finally{b(!1)}},className:"space-y-4",children:[v&&s.jsx("div",{className:"p-3 rounded-lg bg-yellow-50 border border-yellow-200 text-sm text-yellow-800",children:"Authentication is currently unavailable. Please try again later."}),!c&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(r,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"text",value:h,onChange:e=>p(e.target.value),className:"input w-full pl-10",placeholder:"Choose a username",required:!c})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"email",value:d,onChange:e=>m(e.target.value),className:"input w-full pl-10",placeholder:"your@email.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(i,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",size:20}),s.jsx("input",{type:"password",value:x,onChange:e=>u(e.target.value),className:"input w-full pl-10",placeholder:"••••••••",required:!0,minLength:6})]})]}),g&&s.jsx("div",{className:"p-3 rounded-lg text-sm "+(g.includes("Check")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:g}),s.jsx("button",{type:"submit",disabled:j||v,className:"btn-primary w-full flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:j?s.jsxs(s.Fragment,{children:[s.jsx(n,{className:"animate-spin",size:20}),c?"Logging in...":"Creating account..."]}):c?"Login":"Create Account"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-text-secondary",children:[s.jsx("p",{children:"By continuing, you agree to our Terms & Privacy Policy"}),s.jsx("p",{className:"mt-2",children:"Account required to access all features"})]})]})]})})}export{c as default};
