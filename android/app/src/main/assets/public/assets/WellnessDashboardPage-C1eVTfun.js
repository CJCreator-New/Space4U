import{j as e}from"./index-C2hV942_.js";import{r as s}from"./react-vendor-B4gIioy9.js";import{S as t}from"./SafeComponent-Bl7I87cI.js";import{P as a}from"./PremiumPaywall-WAlq_sCS.js";import{W as l}from"./WellnessBreakdown-j8AorXe5.js";import{g as i}from"./premiumUtils-Ccr3qdNt.js";import{D as d,d as r}from"./disclaimers-DMKdW3Y_.js";import{R as n,r as c}from"./ResearchCard-Dmj6EKWy.js";import{x as o,l as m,t as x,a as h,B as p}from"./icons-Cn7BKMG2.js";import"./charts-BTXtbyhr.js";function j(){const[j,u]=s.useState(0),[g,f]=s.useState({mood:0,habits:0,gratitude:0,sleep:0,emotions:0}),{isPremium:N}=i();s.useEffect((()=>{b()}),[]);const b=()=>{const e=JSON.parse(localStorage.getItem("safespace_moods")||"{}"),s=JSON.parse(localStorage.getItem("safespace_habits")||"[]"),t=JSON.parse(localStorage.getItem("safespace_gratitude_entries")||"[]"),a=JSON.parse(localStorage.getItem("safespace_sleep_logs")||"[]"),l=JSON.parse(localStorage.getItem("safespace_emotion_logs")||"[]"),i=[...Array(7)].map(((e,s)=>{const t=new Date;return t.setDate(t.getDate()-s),t.toISOString().split("T")[0]})),d=Object.entries(e).filter((([e])=>i.includes(e))),r=d.length>0?d.reduce(((e,[,s])=>e+s),0)/d.length*4:0,n=s.reduce(((e,s)=>e+i.filter((e=>s.completions?.[e])).length),0),c=s.length>0?Math.min(n/(7*s.length)*20,20):0,o=Math.min(t.filter((e=>i.includes(e.date))).length/7*20,20),m=a.filter((e=>i.includes(e.date))),x=m.length>0?m.reduce(((e,s)=>e+s.sleep_quality),0)/m.length*4:0,h=Math.min(l.filter((e=>{const s=new Date(e.created_at).toISOString().split("T")[0];return i.includes(s)})).length/7*20,20),p=Math.round(r+c+o+x+h);f({mood:Math.round(r),habits:Math.round(c),gratitude:Math.round(o),sleep:Math.round(x),emotions:Math.round(h)}),u(p)};return e.jsx(t,{children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Wellness Dashboard"}),N&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-full text-xs font-medium",children:[e.jsx(o,{size:12}),"Premium"]})]}),e.jsx("p",{className:"text-text-secondary",children:"Your comprehensive mental health overview"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(d,{disclaimer:r.wellness})}),e.jsx("div",{className:"mb-6",children:e.jsx(n,{citations:c.wellness,title:"How We Calculate Your Score"})}),e.jsxs("div",{className:"card p-8 mb-8 text-center",children:[e.jsx("h2",{className:"text-lg font-medium text-text-secondary mb-2",children:"Overall Wellness Score"}),e.jsxs("div",{className:"text-6xl font-bold mb-2 "+(v=j,v>=80?"text-green-500":v>=60?"text-blue-500":v>=40?"text-yellow-500":"text-red-500"),children:[j,"/100"]}),e.jsx("p",{className:"text-xl font-medium mb-3",children:(e=>e>=80?"Excellent":e>=60?"Good":e>=40?"Fair":"Needs Attention")(j)}),e.jsx("p",{className:"text-sm text-text-secondary max-w-2xl mx-auto",children:"Based on 5 dimensions: Mood tracking, Habit completion, Gratitude practice, Sleep quality, and Emotion awareness. Scores reflect your activity over the past 7 days."})]}),N?e.jsx("div",{className:"mb-8",children:e.jsx(l,{})}):e.jsx("div",{className:"mb-8",children:e.jsx(a,{feature:"Detailed Wellness Breakdown",description:"Unlock comprehensive wellness analytics with 7-day trends, component breakdowns, and personalized recommendations.",children:e.jsx("div",{className:"h-96 bg-gray-100 rounded-2xl"})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(m,{className:"w-6 h-6 text-purple-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Mood Tracking"})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold",children:[g.mood,"/20"]}),e.jsx("div",{className:"w-32 h-2 bg-hover rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500",style:{width:g.mood/20*100+"%"}})})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(x,{className:"w-6 h-6 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Habit Completion"})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold",children:[g.habits,"/20"]}),e.jsx("div",{className:"w-32 h-2 bg-hover rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:g.habits/20*100+"%"}})})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(h,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Gratitude Practice"})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold",children:[g.gratitude,"/20"]}),e.jsx("div",{className:"w-32 h-2 bg-hover rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-pink-500",style:{width:g.gratitude/20*100+"%"}})})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(p,{className:"w-6 h-6 text-indigo-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Emotion Awareness"})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold",children:[g.emotions,"/20"]}),e.jsx("div",{className:"w-32 h-2 bg-hover rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500",style:{width:g.emotions/20*100+"%"}})})]})]})]}),e.jsxs("div",{className:"card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommendations"}),e.jsxs("div",{className:"space-y-3",children:[g.mood<15&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-purple-500/10 rounded-lg",children:[e.jsx(m,{className:"w-5 h-5 text-purple-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Track your mood daily"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Regular mood tracking helps identify patterns"})]})]}),g.habits<15&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-500/10 rounded-lg",children:[e.jsx(x,{className:"w-5 h-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Stay consistent with habits"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Small daily actions lead to big changes"})]})]}),g.gratitude<15&&e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-pink-500/10 rounded-lg",children:[e.jsx(h,{className:"w-5 h-5 text-pink-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Practice gratitude"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Daily gratitude improves overall well-being"})]})]})]})]})]})});var v}export{j as default};
