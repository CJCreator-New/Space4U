const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C2hV942_.js","assets/react-vendor-B4gIioy9.js","assets/icons-Cn7BKMG2.js","assets/index-2Hg4iZPr.css","assets/index-BlMPjVFs.js","assets/index-Dug7ndm-.js","assets/index-BiO9OY7A.js","assets/index-ZcPa_9Tq.js"])))=>i.map(i=>d[i]);
import{_ as e,j as t,f as a}from"./index-C2hV942_.js";import{r as s,u as i}from"./react-vendor-B4gIioy9.js";import{u as r}from"./useHaptic-Cp-ndXlt.js";import{ah as c,e as n,aV as l,ag as o,aa as d,v as u}from"./icons-Cn7BKMG2.js";function m(){const[t,a]=s.useState(!1),[i,r]=s.useState(null);s.useEffect((()=>{let t=!0;return(async()=>{try{const{Capacitor:i}=await e((async()=>{const{Capacitor:e}=await import("./index-C2hV942_.js").then((e=>e.i));return{Capacitor:e}}),__vite__mapDeps([0,1,2,3]));if("web"===i.getPlatform())return void(t&&a(!1));let c=null;try{c=await e((()=>import("./index-BlMPjVFs.js")),__vite__mapDeps([4,0,1,2,3]))}catch(s){}if(!c)return void(t&&a(!1));const n=c?.BiometricAuth??c?.default??c;if("function"==typeof n?.checkBiometry){const e=await n.checkBiometry();t&&(a(e.isAvailable),r(e.biometryType))}}catch(i){t&&a(!1)}})(),()=>{t=!1}}),[]);return{isAvailable:t,biometricType:i,authenticate:async(t="Authenticate to continue")=>{try{const{Capacitor:a}=await e((async()=>{const{Capacitor:e}=await import("./index-C2hV942_.js").then((e=>e.i));return{Capacitor:e}}),__vite__mapDeps([0,1,2,3]));if("web"===a.getPlatform())return{success:!1,error:"Not running on native device"};let s=null;try{s=await e((()=>import("@capacitor-community/biometric-auth")),[])}catch{s=await e((()=>import("@capacitor/biometric-auth")),[]).catch((()=>null))}const i=s?.BiometricAuth??s?.default??s;return"function"==typeof i?.authenticate?(await i.authenticate({reason:t}),{success:!0}):{success:!1,error:"Biometric plugin not available"}}catch(a){return{success:!1,error:a.message}}},checkAvailability:async()=>{try{const{Capacitor:t}=await e((async()=>{const{Capacitor:e}=await import("./index-C2hV942_.js").then((e=>e.i));return{Capacitor:e}}),__vite__mapDeps([0,1,2,3]));if("web"===t.getPlatform())return;let s=null;try{s=await e((()=>import("@capacitor-community/biometric-auth")),[])}catch{s=await e((()=>import("@capacitor/biometric-auth")),[]).catch((()=>null))}if(s){const e=s?.BiometricAuth??s?.default??s;if("function"==typeof e?.checkBiometry){const t=await e.checkBiometry();a(t.isAvailable),r(t.biometryType)}}}catch(t){}}}}function h({onSuccess:e,onCancel:a,title:i="Authenticate"}){const{isAvailable:r,biometricType:n,authenticate:l}=m(),[o,d]=s.useState(""),[u,h]=s.useState(!1);return r?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-6",children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full animate-scaleIn",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:t.jsx(c,{size:32,className:"text-white"})}),t.jsx("h2",{className:"text-xl font-bold mb-2",children:i}),t.jsxs("p",{className:"text-text-secondary text-sm",children:["face"===n?"Use Face ID":"Use fingerprint"," to continue"]})]}),o&&t.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-sm",children:o}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:async()=>{h(!0),d("");const t=await l(i);t.success?e?.():d(t.error||"Authentication failed"),h(!1)},disabled:u,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 rounded-xl font-medium disabled:opacity-50",children:u?"Authenticating...":"Authenticate"}),t.jsx("button",{onClick:a,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-medium",children:"Use Password Instead"})]})]})}):null}function x({children:a,className:i=""}){const{keyboardHeight:r,isKeyboardVisible:c}=function(){const[t,a]=s.useState(0),[i,r]=s.useState(!1);return s.useEffect((()=>{let t,s;return(async()=>{if(window.Capacitor){const{Keyboard:i}=await e((async()=>{const{Keyboard:e}=await import("./index-Dug7ndm-.js");return{Keyboard:e}}),__vite__mapDeps([5,0,1,2,3]));t=await i.addListener("keyboardWillShow",(e=>{a(e.keyboardHeight),r(!0)})),s=await i.addListener("keyboardWillHide",(()=>{a(0),r(!1)}))}})(),()=>{t?.remove(),s?.remove()}}),[]),{keyboardHeight:t,isKeyboardVisible:i}}();return t.jsx("div",{className:`transition-all duration-300 ${i}`,style:{paddingBottom:c?`${r}px`:"0px"},children:a})}function p(){const p=i(),{theme:b,toggleTheme:f}=a(),{isAvailable:y,biometricType:g}=m(),{share:j,isSharing:w,canShare:N}=function(){const[t,a]=s.useState(!1);return{share:async({title:t,text:s,url:i,files:r})=>{a(!0);try{if(window.Capacitor){const{Share:a}=await e((async()=>{const{Share:e}=await import("./index-BiO9OY7A.js");return{Share:e}}),__vite__mapDeps([6,0,1,2,3]));return await a.share({title:t,text:s,url:i,dialogTitle:"Share with"}),{success:!0}}return navigator.share?(await navigator.share({title:t,text:s,url:i,files:r}),{success:!0}):(await navigator.clipboard.writeText(i||s),{success:!0,fallback:"clipboard"})}catch(c){return{success:!1,error:c.message}}finally{a(!1)}},isSharing:t,canShare:()=>!(!window.Capacitor&&!navigator.share)}}(),{triggerHaptic:_}=r(),[v,k]=s.useState(!1),[S,A]=s.useState(""),[C,E]=s.useState("");!function(t={}){const{backgroundColor:a="#FFFFFF",style:i="dark",overlay:r=!1}=t;s.useEffect((()=>{(async()=>{if(window.Capacitor)try{const{StatusBar:t,Style:s}=await e((async()=>{const{StatusBar:e,Style:t}=await import("./index-ZcPa_9Tq.js");return{StatusBar:e,Style:t}}),__vite__mapDeps([7,0,1,2,3]));await t.setBackgroundColor({color:a}),await t.setStyle({style:"dark"===i?s.Dark:s.Light}),await t.setOverlaysWebView({overlay:r})}catch(t){}})()}),[a,i,r])}({backgroundColor:"dark"===b?"#1F2937":"#FFFFFF",style:"dark"===b?"light":"dark"});return t.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[t.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 sticky top-0 z-10",children:[t.jsx("button",{onClick:()=>p(-1),className:"touch-target mb-4",children:t.jsx(n,{size:24})}),t.jsx("h1",{className:"text-2xl font-bold",children:"Native Features Demo"}),t.jsx("p",{className:"text-indigo-100 mt-1",children:"Platform integrations"})]}),t.jsx(x,{children:t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("section",{className:"card p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:t.jsx(c,{size:24,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold",children:"Biometric Authentication"}),t.jsx("p",{className:"text-sm text-text-secondary",children:y?("face"===g?"Face ID":"Fingerprint")+" available":"Not available"})]})]}),t.jsx("button",{onClick:()=>{_("medium"),k(!0)},disabled:!y,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Test Biometric Auth"}),S&&t.jsx("div",{className:"mt-3 p-3 bg-green-50 text-green-700 rounded-lg text-sm",children:S})]}),t.jsxs("section",{className:"card p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center",children:t.jsx(l,{size:24,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold",children:"Native Share"}),t.jsx("p",{className:"text-sm text-text-secondary",children:N()?"Share API available":"Not available"})]})]}),t.jsx("button",{onClick:async()=>{_("light");const e=await j({title:"Space4U - Mental Health Support",text:"Check out this amazing mental health app!",url:"https://space4u.app"});e.success?(E(e.fallback?"📋 Copied to clipboard!":"✅ Shared successfully!"),_("success")):E("❌ Share failed")},disabled:w||!N(),className:"w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white py-3 rounded-xl font-medium disabled:opacity-50",children:w?"Sharing...":"Share App"}),C&&t.jsx("div",{className:"mt-3 p-3 bg-blue-50 text-blue-700 rounded-lg text-sm",children:C})]}),t.jsxs("section",{className:"card p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:t.jsx(o,{size:24,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold",children:"Status Bar Theming"}),t.jsxs("p",{className:"text-sm text-text-secondary",children:["Current: ","dark"===b?"Dark":"Light"," mode"]})]})]}),t.jsxs("button",{onClick:()=>{_("light"),f()},className:"w-full bg-gradient-to-r from-purple-500 to-pink-600 text-white py-3 rounded-xl font-medium flex items-center justify-center gap-2",children:["dark"===b?t.jsx(d,{size:20}):t.jsx(u,{size:20}),"Toggle Theme"]}),t.jsx("p",{className:"mt-3 text-sm text-text-secondary",children:"Status bar color updates automatically with theme"})]}),t.jsxs("section",{className:"card p-6",children:[t.jsx("h2",{className:"font-semibold mb-4",children:"Haptic Feedback"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{onClick:()=>_("light"),className:"bg-gray-100 py-3 rounded-xl font-medium",children:"Light"}),t.jsx("button",{onClick:()=>_("medium"),className:"bg-gray-100 py-3 rounded-xl font-medium",children:"Medium"}),t.jsx("button",{onClick:()=>_("heavy"),className:"bg-gray-100 py-3 rounded-xl font-medium",children:"Heavy"}),t.jsx("button",{onClick:()=>_("success"),className:"bg-green-100 text-green-700 py-3 rounded-xl font-medium",children:"Success"})]})]}),t.jsxs("section",{className:"card p-6",children:[t.jsx("h2",{className:"font-semibold mb-4",children:"Keyboard Avoidance"}),t.jsx("p",{className:"text-sm text-text-secondary mb-4",children:"Tap input to test keyboard avoidance"}),t.jsx("input",{type:"text",placeholder:"Type something...",className:"input w-full"})]})]})}),v&&t.jsx(h,{title:"Authenticate to Continue",onSuccess:()=>{A("✅ Authentication successful!"),k(!1),_("success")},onCancel:()=>k(!1)})]})}export{p as default};
