import{u as e,j as s}from"./index-C2hV942_.js";import{u as a,r as t}from"./react-vendor-B4gIioy9.js";import{S as l}from"./SafeComponent-Bl7I87cI.js";import{L as i}from"./LimitWarningBanner-Cz_8YhFz.js";import{g as n}from"./premiumUtils-Ccr3qdNt.js";import{D as r,d as m}from"./disclaimers-DMKdW3Y_.js";import{x as c,P as d,Y as o,ay as x,r as h}from"./icons-Cn7BKMG2.js";function u(){const{t:u}=e(),p=[{value:"mood_checkin",label:u("reminders.moodCheckIn"),icon:"😊"},{value:"medication",label:u("reminders.medication"),icon:"💊"},{value:"therapy",label:u("reminders.therapy"),icon:"🧠"},{value:"habit",label:u("reminders.habit"),icon:"🎯"},{value:"custom",label:u("reminders.custom"),icon:"⏰"}],j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b=a(),[f,N]=t.useState([]),[v,y]=t.useState(!1),[g,w]=t.useState({type:"mood_checkin",title:"",time:"09:00",days:[1,2,3,4,5],enabled:!0}),{isPremium:k}=n();t.useEffect((()=>{const e=JSON.parse(localStorage.getItem("safespace_reminders")||"[]");N(e)}),[]);const S=()=>{!k&&f.length>=5?b("/premium"):y(!0)};return s.jsx(l,{children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:u("reminders.title")}),k&&s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-full text-xs font-medium",children:[s.jsx(c,{size:12}),u("premium.title")]})]}),s.jsx("p",{className:"text-text-secondary",children:u("reminders.subtitle")})]}),s.jsxs("button",{onClick:S,className:"btn-primary",children:[s.jsx(d,{className:"w-5 h-5"})," ",u("reminders.addReminder")]})]}),s.jsx("div",{className:"mb-8",children:s.jsx(r,{disclaimer:m.general})}),!k&&f.length>=5&&s.jsx(i,{limit:5,feature:"reminders",current:f.length}),0===f.length?s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(o,{className:"w-16 h-16 text-text-secondary mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:u("reminders.noReminders")}),s.jsx("p",{className:"text-text-secondary mb-6",children:u("reminders.createFirst")}),s.jsxs("button",{onClick:S,className:"btn-primary",children:[s.jsx(d,{className:"w-5 h-5"})," ",u("reminders.createFirstReminder")]})]}):s.jsx("div",{className:"space-y-4",children:f.map((e=>{const a=p.find((s=>s.value===e.type));return s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-3xl",children:a?.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:e.title||a?.label}),s.jsxs("p",{className:"text-text-secondary text-sm",children:[e.time," • ",e.days.map((e=>j[e])).join(", ")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>(e=>{const s=f.map((s=>s.id===e?{...s,enabled:!s.enabled}:s));localStorage.setItem("safespace_reminders",JSON.stringify(s)),N(s)})(e.id),className:"p-2 hover:bg-hover rounded-lg",children:e.enabled?s.jsx(o,{className:"w-5 h-5 text-primary"}):s.jsx(x,{className:"w-5 h-5 text-text-secondary"})}),s.jsx("button",{onClick:()=>(e=>{const s=f.filter((s=>s.id!==e));localStorage.setItem("safespace_reminders",JSON.stringify(s)),N(s)})(e.id),className:"p-2 hover:bg-hover rounded-lg text-red-500",children:s.jsx(h,{className:"w-5 h-5"})})]})]})},e.id)}))}),v&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-surface rounded-2xl max-w-md w-full p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:u("reminders.newReminder")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:u("reminders.type")}),s.jsx("select",{value:g.type,onChange:e=>w({...g,type:e.target.value}),className:"input w-full",children:p.map((e=>s.jsxs("option",{value:e.value,children:[e.icon," ",e.label]},e.value)))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:u("reminders.titleOptional")}),s.jsx("input",{value:g.title,onChange:e=>w({...g,title:e.target.value}),className:"input w-full",placeholder:u("reminders.customReminderName")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:u("reminders.time")}),s.jsx("input",{type:"time",value:g.time,onChange:e=>w({...g,time:e.target.value}),className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:u("reminders.repeatOn")}),s.jsx("div",{className:"flex gap-2",children:j.map(((e,a)=>s.jsx("button",{onClick:()=>(e=>{const s=g.days.includes(e)?g.days.filter((s=>s!==e)):[...g.days,e];w({...g,days:s})})(a),className:"flex-1 py-2 rounded-lg text-sm font-medium "+(g.days.includes(a)?"bg-primary text-white":"bg-hover"),children:e},a)))})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>y(!1),className:"btn-secondary flex-1",children:u("common.cancel")}),s.jsx("button",{onClick:()=>{const e={...g,id:Date.now()},s=[...f,e];localStorage.setItem("safespace_reminders",JSON.stringify(s)),N(s),y(!1),w({type:"mood_checkin",title:"",time:"09:00",days:[1,2,3,4,5],enabled:!0})},disabled:0===g.days.length,className:"btn-primary flex-1",children:u("common.create")})]})]})]})})]})})}export{u as default};
